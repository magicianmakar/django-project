!function(e,t){var n;!function(e){function t(){function e(e,t){e||d.push(t)}function t(t,n){try{e(t(),n)}catch(t){e(!1,n)}}function n(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function i(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}function o(){return"undefined"!=typeof Uint32Array&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof new Uint8Array(2).set}function r(){var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("2d").getImageData(0,0,1,1).data,n=new Int32Array(t.buffer);return n.length>0}function a(){return!!new Blob}var d=[];return t(n,"HTML5 Canvas"),e("undefined"!=typeof WebSocket,"WebSockets"),t(i,"HTML5 Drag-and-Drop"),e("undefined"!=typeof URL,"window.URL Support"),e("undefined"!=typeof XMLHttpRequest,"XML Http Requests"),t(o,"Native Type Arrays"),t(r,"ImageData.data is not a Uint8ClampedArray"),e(!(!window.history||!window.history.pushState),"HTML5 History"),e("undefined"!=typeof Worker,"Web Workers"),e(!!Date.now,"Date.now()"),t(a,"Blob and/or Blob Constructor"),d.sort(),d}e.list=t}(n||(n={}));var i;!function(e){function t(e){var t;null==f&&(f=document.createElement("div"),f.id="clipping-magic-container",document.body.appendChild(f),t=f.style,t.position="fixed",t.top="0",t.left="0",t.width="100%",t.height="100%",t.zIndex="2147483647",t.background="rgba(0, 0, 0, 0.5)",t.padding="10px",t.boxSizing="border-box"),null==m&&(m=document.createElement("iframe"),m.name="clipping-magic-iframe",m.id=m.name,f.appendChild(m),t=m.style,t.background="#FFFFFF",t.width="100%",t.height="100%",m.setAttribute("seamless","seamless"),m.setAttribute("frameborder","0")),null==y&&(y=document.createElement("form"),y.id="clipping-magic-form",y.style.display="none",document.body.appendChild(y),y.method="POST",y.target=m.name),null==g&&(g=document.createElement("input"),g.setAttribute("type","hidden"),g.setAttribute("name","json"),y.appendChild(g)),i();var n="https://clippingmagic.com/api/v1/edit/"+encodeURIComponent(s.apiId);e.locale&&(n+="?lc="+encodeURIComponent(e.locale)),y.action=n,g.setAttribute("value",JSON.stringify(e)),y.submit(),f.style.display="block",h=document.body.style.overflow,document.body.style.overflow="hidden"}function i(){m.contentWindow.location.replace(v)}function o(){m&&(document.body.style.overflow=h,f.style.display="none",i(),f.removeChild(m),m=null)}function r(e){try{b(e)}catch(e){}}function a(e){var t=e.originalEvent,n=t;if(m&&n.source==m.contentWindow){var i=JSON.parse(n.data);if(i.error)o(),r({event:"error",error:i.error});else switch(i.command){case"SavedAndResultReady":i.success&&(p&&o(),r({event:"result-generated",image:i.image}));break;case"Exit":o(),r({event:"editor-exit"})}}}function d(e){if("undefined"==typeof $)throw"Must have loaded jQuery.js";if("number"!=typeof e.apiId)throw"Must include apiId in opts";if("undefined"!=typeof e.apiKey)throw"Must NOT include apiKey in opts - it is private!";s=$.extend(!0,{},e),u||$(window).on("message",a),u=!0;var t=n.list();return c=0==t.length,t}function l(e,n){if(!u)throw"Please call ClippingMagic.initialize() first";if(!c)throw"Sorry, can't run in this browser";if(m)throw"Sorry, can only have one editor open at a time";p=!e.images,b=n,t(e)}var u=!1,c=!1,s=null,p=!0,f=null,m=null,y=null,g=null,h="",v=navigator.userAgent.indexOf("Trident")>=0?"about:blank":"data:,Loading...",b=null;e.initialize=d,e.edit=l}(i||(i={})),window.ClippingMagic=i,t.ClippingMagicExport=e}({},function(){return this}());