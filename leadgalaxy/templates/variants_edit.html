{% extends "base.html" %}

{% load static %}
{% load template_helper %}
{% load compress %}

{% block main-container %}

<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Shopify Stores<small></small></h5>
                <div class="ibox-tools">
                    <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </div>
            </div>
            <div class="ibox-content">
                <div class="container-fluid hide-no-produce">
                    <div class=" row">
                        <div class="form-group col-xs-12 text-center">
                            <h3 class="product-title"></h3>
                            <h5>Number of variants: <span class="product-variants"></span></h5>
                        </div>
                    </div>

                    <div class="row" style="margin-bottom:10px">
                        <div class="col-xs-12 alert alert-info">
                            <p style="margin:0">Please follow this steps to link product's variants to the corresponding images:</p>
                            <p style="margin:0;margin-left:10px">Step 1: Select a variant of the product.</p>
                            <p style="margin:0;margin-left:10px">Step 2: Select images for your variants.</p>
                        </div>
                    </div>

                    <div class=" row">
                        <div class="form-group col-xs-12 text-center">
                            <button class="btn btn-default btn-sm btn-outline var-btn-prev"><span>&lt;</span></button>
                            <select class="form-control current-var" style="margin:0 10px;width:200px;display:inline"></select>
                            <button class="btn btn-default btn-sm btn-outline var-btn-next"><span>&gt;</span></button>
                        </div>
                    </div>

                    <div class="row  text-center" id="var-images">
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <button id="view-btn" type="button" class="btn btn-info" style="margin-top:20px">View in Shopify</button>
                        </div>
                        <!--
                        <div class="col-xs-4 col-xs-offset-4 text-right">
                            <button id="skip-btn" type="button" class="btn btn-primary" style="margin-top:20px">Close</button>
                        </div>
                        -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extracss %}

<link href="/static/css/jquery.loader.min.css" rel="stylesheet">

<style type="text/css">
.buttons {
    /*text-align: right;*/
    margin-top: 20px;
    margin-bottom: 25px;
}

.buttons .export, .buttons .view{
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
}

.buttons .export {
    border: 1px solid #A0E7A3;
    background-color: rgb(213, 255, 213);
}

.buttons .view {
    border: 1px solid #A0C9E7;
    background-color: rgb(213, 255, 253);
}


.var-image {
    border: 1px solid #ccc;
    padding: 5px;
    width: 100px;
    cursor: pointer;
}

.var-image:hover {
    border: 1px solid #000;
}

.var-image-disabled {
    opacity: 0.3;
}

.var-image-block {
    margin-top: 15px;
}
</style>
{% endblock %}

{% block extrajs %}
<script src="/static/js/jquery.loader.min.js" type="text/javascript"></script>

<script type="text/javascript">

var product = {% json_dumps product %};
var api_url = '{{store.api_url}}';

</script>

{% compress js %}
<script type="text/javascript" src="{% static 'shopified/js/variants_edit.js' %}"></script>
{% endcompress %}
{% endblock %}

