{% load addons_helper %}

{% if not alter_upsell_pos %}<div class="upsell-backdrop"></div>{% endif %}
<div class="{% if not alter_upsell_pos %}upsell {% endif %}">
    <div class="{% if not alter_upsell_pos %}purchase{% else %}custom-upsell{% endif %}">
        <div>
            {% if show_close_btn %}
                <button id="upsell-close">
                    X
                </button>
            {% endif %}
            {% if btn_link %}
            <a href="{{ btn_link }}" class="btn btn-primary">{{ btn_text }}</a>
            {% else %}
            <a href="{{ addon_id|addon_permalink }}" class="btn btn-primary">Upgrade</a>
            {% endif %}

            {% if message %}
            <span>{{ message }}</span>
            {% endif %}
        </div>
    </div>
</div>


<style type="text/css">
    .upsell {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 2050;
        overflow: hidden;
        outline: 0;
        text-align: center;
    }

    .upsell-backdrop {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: rgba(243, 243, 243, 0.6);
        z-index: 2040;
    }

    .custom-upsell {
        text-align: center;
    }

    .custom-upsell, .upsell .purchase {
        z-index: 2;
        font-weight: bold;
    }
    .upsell .purchase > div,  .custom-upsell >div {
        border-radius: 4px;
        border: 1px solid rgba(0,0,0,.2);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        background-color: #ffffff;
        display: inline-block;
        padding: 10px 20px 10px 15px;
    }

    .upsell .purchase span, .custom-upsell span {
        display: inline-block;
        padding: 2px 0 0px 15px;
        vertical-align: middle;
    }

    {% if top %}
    .upsell .purchase {
        margin: {{ top }} auto;
    }
    {% else %}
    .upsell .purchase {
        position: absolute;
        top: calc(50% - 28px);
        left: 0;
        right: 0;
    }
    {% endif %}

    .upsell-backdrop {
        border-radius: {{ radius|default:"0" }};
    }

    #upsell-close {
        position: relative;
        background: #93c47d;
        color: white;
        top: -25px;
        left: 267px;
        height: 24px;
        width: 24px;
        border-radius: 50%;
        border: none;
    }
</style>
